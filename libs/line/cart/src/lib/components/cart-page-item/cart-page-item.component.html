<div class="cart-page-item">
  <div class="cart-page-item--top">
    <fe-product-image
      (gtmClick)="sendGtmClickEvent(cartItem)"
      [image]="cartItem.product.images[0]"
      [prettyName]="cartItem.product.prettyName"
      [productName]="cartItem.product.name"
      [referrerEventId]="cartItem.referrerEventId"
      [imageType]="'CART'"
    ></fe-product-image>
    <div class="cart-page-item__brand">
      <fe-product-name
        (gtmClick)="sendGtmClickEvent(cartItem)"
        [productName]="cartItem.product.name"
        [prettyName]="cartItem.product.prettyName"
        [productId]="cartItem.item.productId"
        [referrerEventId]="cartItem.referrerEventId"
      ></fe-product-name>
      <fe-product-brand [brand]="brand"></fe-product-brand>
    </div>
  </div>
  <div class="cart-page-item--bottom">
    <fe-product-actions
      #action
      [amount]="cartItem.item.amount"
      [maxAmount]="cartItem.product.maxAmount"
      [incrementAmount]="cartItem.product.incrementAmount"
      [initialIncrementAmount]="cartItem.product.initialIncrementAmount"
      [unit]="cartItem.product.unit"
      [status]="cartItem.product.status"
      [reminderVisibility]="reminderVisibility"
      (updated)="onUpdate($event)"
      (maxAmountReached)="onMaxAmountReached($event)"
    ></fe-product-actions>
    <ng-content select="fe-product-price"></ng-content>
    <div
      class="product-note"
      (click)="openProductNoteDialog(cartItem.item.productId, cartItem.product.name, cartItem.item.note)"
    >
      <i *ngIf="cartItem.item.note; else noNote" class="icon icon-edit"></i>
      <ng-template #noNote><i class="icon icon-edit--grey"></i></ng-template>
    </div>
    <button (click)="deleteItem()">Sil</button>
  </div>
</div>
